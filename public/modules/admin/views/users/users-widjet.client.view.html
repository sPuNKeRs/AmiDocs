<div ng-controller="UsersSettingsController as UserSettingCtrl" ng-cloak>
	<h3>Пользователи</h3>
		<div class="container">
			<div class="row">
				<div class="well">
					<div class="btn-group btn-group-justified" role="group" aria-label="Justified button group">
				      <a href="#" 
				      	 class="btn btn-success" 
				      	 role="button" 
				      	 ng-click="UserSettingCtrl.createNewUser('lg')">Создать</a>
				      <a href="#" 
				      	 class="btn btn-warning" 
				      	 role="button"
				      	 ng-disabled="!UserSettingCtrl.selectedUser"
				      	 ng-click="!UserSettingCtrl.selectedUser || editUser('lg')">Изменить</a>
				      <a href="#" 
				      	 class="btn btn-danger" 
				      	 role="button"
				      	 ng-disabled="!UserSettingCtrl.selectedUser.id"
				      	 ng-click="!UserSettingCtrl.selectedUser || UserSettingCtrl.deleteUser('lg')">Удалить</a>
				      <a href="#" 
				      	 class="btn btn-info" 
				      	 role="button"
				      	 ng-click="UserSettingCtrl.refreshUserList()">Обновить</a>
				    </div>
				</div>	
			</div>
			<div class="row">
				<table class="table table-hover">
			      <thead>
			        <tr>
			          <th>#</th>
			          <th>ФИО</th>
			          <th>Логин</th>
			          <th>E-mail</th>
			        </tr>
			      </thead>
			      <tbody>
			        <tr ng-repeat="user in UserSettingCtrl.usersList" 
			            data-selected-user="UserSettingCtrl.selectedUser"
			            data-edit-user="UserSettingCtrl.editUser"
			            data-userId="{{user._id}}" 
			           	ng-class="{'success': UserSettingCtrl.userChecked(user._id)}"
			           	check-user>
				          <td>{{$index+1}}</td>
				          <td>{{user.surname+' '+user.name+' '+user.lastname}}</td>
				          <td>{{user.userLogin}}</td>
				          <td>{{user.email}}</td>
			        </tr>		               
			      </tbody>
				</table>			
			</div>	
		</div>
</div>